"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[200],{87200:function(On,_n,h){h.d(_n,{HF:function(){return Cn},SI:function(){return En},SS:function(){return qe},WM:function(){return gn},pC:function(){return $n},st:function(){return en}});var vn=h(15009),X=h.n(vn),cn=h(99289),xe=h.n(cn),pn=h(5574),We=h.n(pn),fn=h(64599),Se=h.n(fn),mn=h(96486),L=h.n(mn),Ze=h(76772),hn=h(88773),Je=h(83062),Ne=h(83622),yn=h(86738),tn=h(26412),rn=h(55287),on=h(47389),bn=h(82061),Ye=h(2618),Xe=h(37476),un=h(34994),dn=h(5966),sn=h(64317),f=h(85893);function qe(e,a,S,G,y,d){var C,b,w,z,be,s,v,A,j,ie,B=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},pe=(C=e==null||(b=e.table)===null||b===void 0?void 0:b.columns)!==null&&C!==void 0?C:[],fe=(w=e==null||(z=e.table)===null||z===void 0?void 0:z.all_columns)!==null&&w!==void 0?w:!0,Q=(be=e==null||(s=e.update)===null||s===void 0?void 0:s.enable)!==null&&be!==void 0?be:!1,$e=(v=e==null||(A=e.delete)===null||A===void 0?void 0:A.enable)!==null&&v!==void 0?v:!1,r=(j=e==null||(ie=e.table)===null||ie===void 0?void 0:ie.order_by)!==null&&j!==void 0?j:{},t=[],k=Se()(pe.entries()),E;try{var Ce=function(){var x,M,ne,V,N,Y,W,c,R,P,T,J,Ee,oe,F,q,H,ue,le,m,Oe,i,de,ye,Me=We()(E.value,2),ge=Me[0],I=Me[1],D=(x=I.field)!==null&&x!==void 0?x:null,U=(M=I.relation)!==null&&M!==void 0?M:null,ze=(ne=I.width)!==null&&ne!==void 0?ne:null,Pe=(V=I.input_type)!==null&&V!==void 0?V:null,De=(N=I.order_by)!==null&&N!==void 0?N:null,Ue=(Y=I.title)!==null&&Y!==void 0?Y:L().startCase(D),se=L().isEmpty(U)?S[D]:S[U];if(se===void 0)return 0;var _e=(W=se.type)===null||W===void 0?void 0:W.name;if(_e===void 0){var ke;_e=(ke=se.type.ofType)===null||ke===void 0?void 0:ke.name}if(L().isEmpty(D))return 0;var Ae=(c=e==null||(R=e.table)===null||R===void 0?void 0:R.hidden_columns.find(function(o){var $,u,re=($=I.field)!==null&&$!==void 0?$:null,p=(u=I.relation)!==null&&u!==void 0?u:null;return o==p||o==re}))!==null&&c!==void 0?c:!1,Ke=(P=e==null||(T=e.create)===null||T===void 0?void 0:T.hidden_columns.find(function(o){var $,u,re=($=I.field)!==null&&$!==void 0?$:null,p=(u=I.relation)!==null&&u!==void 0?u:null;return o==p||o==re}))!==null&&P!==void 0?P:!1,Z=(J=e==null||(Ee=e.update)===null||Ee===void 0?void 0:Ee.hidden_columns.find(function(o){var $,u,re=($=I.field)!==null&&$!==void 0?$:null,p=(u=I.relation)!==null&&u!==void 0?u:null;return o==p||o==re}))!==null&&J!==void 0?J:!1,Fe=(oe=e==null||(F=e.filter)===null||F===void 0?void 0:F.hidden_columns.find(function(o){var $,u,re=($=I.field)!==null&&$!==void 0?$:null,p=(u=I.relation)!==null&&u!==void 0?u:null;return o==p||o==re}))!==null&&oe!==void 0?oe:!1,K=(q=(H=(ue=se.type)===null||ue===void 0?void 0:ue._fields)!==null&&H!==void 0?H:(le=se.type)===null||le===void 0||(le=le.ofType)===null||le===void 0?void 0:le._fields)!==null&&q!==void 0?q:void 0,Le=(m=se.type._values)!==null&&m!==void 0?m:[],n=null,O=null;if(_e==="Boolean")n={true:{text:"TRUE"},false:{text:"FALSE"}},O=[{label:"TRUE",value:"true"},{label:"FALSE",value:"false"}];else if(!L().isEmpty(Le)){n={},O=[];var ae=Se()(Le),te;try{for(ae.s();!(te=ae.n()).done;){var ve=te.value,g=ve.name,Te=ve.value;n[Te]={text:g},O.push({label:g,value:Te})}}catch(o){ae.e(o)}finally{ae.f()}}var Be=(Oe=I.ellipsis)!==null&&Oe!==void 0?Oe:!0;t.push({title:(0,f.jsx)(Je.Z,{placement:"topLeft",title:Ue,children:Ue}),key:D,dataIndex:D,sorter:!0,ofType:_e,valueEnum:n,options:(i=I.options)!==null&&i!==void 0?i:O,ellipsis:Be?{showTitle:!1}:!1,showSorterTooltip:!1,hideInTable:Ae||D.toLowerCase().includes("password"),hideInSearch:Fe||Ae||D.toLowerCase().includes("password")||K!==void 0,hideInUpdate:Z||K!==void 0,hideInCreate:Ke||K!==void 0,render:function($,u){var re,p,ce=null;if(u[D]&&((re=B[D])===null||re===void 0?void 0:re.type)=="datetime")ce=u[D].split(".")[0];else if(((p=se.type)===null||p===void 0||(p=p.ofType)===null||p===void 0?void 0:p.name)=="Boolean")ce=u[D]?"TRUE":"FALSE";else if(K!==void 0){var Ie,je;ce=(Ie=(je=u[U])===null||je===void 0?void 0:je[D])!==null&&Ie!==void 0?Ie:""}else ce=u[D];return Pe=="image"?(0,f.jsx)("img",{src:ce,style:{width:"100%"}}):Be?(0,f.jsx)(Je.Z,{placement:"topLeft",title:ce,children:ce}):ce},valueType:((de=B[D])===null||de===void 0?void 0:de.type)=="datetime"?"dateRange":null,colOrder:Number.MAX_SAFE_INTEGER-1-ge,width:((ye=B[D])===null||ye===void 0?void 0:ye.type)=="datetime"?170:D=="id"?70:ze,columnOrderBy:De})},ee;for(k.s();!(E=k.n()).done;)ee=Ce()}catch(he){k.e(he)}finally{k.f()}for(var me=function(){var x,M,ne,V,N,Y,W,c,R,P,T,J,Ee,oe,F,q,H,ue=We()(Ve[l],2),le=ue[0],m=ue[1],Oe=pe.find(function(Z){var Fe,K,Le=(Fe=Z.field)!==null&&Fe!==void 0?Fe:null,n=(K=Z.relation)!==null&&K!==void 0?K:null;return m.name==n||m.name==Le});if(Oe)return 0;var i=m.name,de=(x=(M=(ne=m.type)===null||ne===void 0?void 0:ne._fields)!==null&&M!==void 0?M:(V=m.type)===null||V===void 0||(V=V.ofType)===null||V===void 0?void 0:V._fields)!==null&&x!==void 0?x:void 0,ye=(N=m.type)===null||N===void 0?void 0:N.name;if(ye===void 0){var Me;ye=(Me=m.type.ofType)===null||Me===void 0?void 0:Me.name}var ge=(Y=e==null||(W=e.table)===null||W===void 0?void 0:W.hidden_columns.find(function(Z){return m.name==Z}))!==null&&Y!==void 0?Y:fe==!1,I=(c=e==null||(R=e.create)===null||R===void 0?void 0:R.hidden_columns.find(function(Z){return m.name==Z}))!==null&&c!==void 0?c:!1,D=(P=e==null||(T=e.update)===null||T===void 0?void 0:T.hidden_columns.find(function(Z){return m.name==Z}))!==null&&P!==void 0?P:!1,U=(J=e==null||(Ee=e.filter)===null||Ee===void 0?void 0:Ee.hidden_columns.find(function(Z){return m.name==Z}))!==null&&J!==void 0?J:fe==!1,ze=(oe=m.type._values)!==null&&oe!==void 0?oe:[],Pe=null,De=null;if(ye==="Boolean")Pe={true:{text:"TRUE"},false:{text:"FALSE"}},De=[{label:"TRUE",value:!0},{label:"FALSE",value:!1}];else if(!L().isEmpty(ze)){Pe={},De=[];var Ue=Se()(ze),se;try{for(Ue.s();!(se=Ue.n()).done;){var _e=se.value,ke=_e.name,Ae=_e.value;Pe[Ae]={text:ke},De.push({label:ke,value:Ae})}}catch(Z){Ue.e(Z)}finally{Ue.f()}}var Ke=!0;if(de!==void 0)return 0;t.push({title:(0,f.jsx)(Je.Z,{placement:"topLeft",title:L().startCase(i),children:L().startCase(i)}),key:i,dataIndex:i,sorter:!0,ofType:ye,valueEnum:Pe,options:De,ellipsis:Ke?{showTitle:!1}:!1,showSorterTooltip:!1,hideInTable:ge||m.name.toLowerCase().includes("password")||de!==void 0,hideInSearch:U||ge||m.name.toLowerCase().includes("password")||de!==void 0,hideInUpdate:D||de!==void 0,hideInCreate:I||de!==void 0,render:function(Fe,K){var Le,n,O=null;return K[i]&&((Le=B[i])===null||Le===void 0?void 0:Le.type)=="datetime"?O=K[i].split(".")[0]:((n=m.type)===null||n===void 0||(n=n.ofType)===null||n===void 0?void 0:n.name)=="Boolean"?O=K[i]?"TRUE":"FALSE":O=K[i],Ke?(0,f.jsx)(Je.Z,{placement:"topLeft",title:O,children:O}):O},valueType:((F=B[i])===null||F===void 0?void 0:F.type)=="datetime"?"dateRange":null,colOrder:((q=B[i])===null||q===void 0?void 0:q.type)=="datetime"?Number.MIN_SAFE_INTEGER:i=="id"?Number.MAX_SAFE_INTEGER:null,width:((H=B[i])===null||H===void 0?void 0:H.type)=="datetime"?170:i=="id"?70:null})},we,l=0,Ve=Object.entries(S);l<Ve.length;l++)we=me();t.push({title:"",width:40+(Q?34:0)+($e?34:0),hideInUpdate:!0,hideInCreate:!0,hideInModalView:!0,valueType:"option",key:"_option_",render:function(x,M,ne,V){var N,Y;return[e!=null&&(N=e.editor)!==null&&N!==void 0&&N.enable?(0,f.jsx)(Ne.ZP,{icon:(0,f.jsx)(rn.Z,{}),size:"small",onClick:function(){var c=window.location.pathname.split("/"),R=c[c.length-1],P=c[c.length-2],T=e!=null&&e.childNavBar?"/".concat(a):"";Ze.history.push("/".concat(P,"/").concat(R).concat(T,"/view"),{config:e,tableName:a,record:M})}}):(0,f.jsx)(Ne.ZP,{icon:(0,f.jsx)(rn.Z,{}),size:"small",onClick:function(){return y(M)}}),Q&&e!==null&&e!==void 0&&(Y=e.editor)!==null&&Y!==void 0&&Y.enable?(0,f.jsx)(Ne.ZP,{icon:(0,f.jsx)(on.Z,{}),size:"small",onClick:function(){var c=window.location.pathname.split("/"),R=c[c.length-1],P=c[c.length-2],T=e!=null&&e.childNavBar?"/".concat(a):"";Ze.history.push("/".concat(P,"/").concat(R).concat(T,"/update"),{config:e,tableName:a,record:M})}}):Q?(0,f.jsx)(Ne.ZP,{icon:(0,f.jsx)(on.Z,{}),size:"small",onClick:function(){return G(M)}}):null,$e?(0,f.jsx)(yn.Z,{title:"Delete?",onConfirm:xe()(X()().mark(function W(){var c,R,P,T,J,Ee,oe,F,q,H,ue,le,m;return X()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,en(a);case 2:R=i.sent,P=(c=R.primary_key)!==null&&c!==void 0?c:[],T=[],J=Se()(P);try{for(J.s();!(Ee=J.n()).done;)F=Ee.value,q=S[F],H=(oe=q.type)===null||oe===void 0?void 0:oe.name,H===void 0&&(H=(ue=q.type.ofType)===null||ue===void 0?void 0:ue.name),H==="Int"||H==="Float"||H==="Boolean"?T.push("".concat(F,": { eq: ").concat(M[F]," }")):T.push("".concat(F,': { eq: "').concat(M[F],'" }'))}catch(de){J.e(de)}finally{J.f()}return i.next=9,(0,Ze.request)("".concat("/api","/graphql"),{method:"POST",headers:(0,Ye.zl)(),data:{query:`
                  mutation {
                    `.concat(a,`_delete(
                      filter: {
                        `).concat(T.join(`
`),`
                      }
                    )
                  }
                `),variable:{}}});case 9:if(le=i.sent,!L().isEmpty(le==null?void 0:le.errors)){i.next=15;break}return(m=d.current)===null||m===void 0||m.reload(),i.abrupt("return",!0);case 15:return i.abrupt("return",!1);case 16:case"end":return i.stop()}},W)})),children:(0,f.jsx)(Ne.ZP,{icon:(0,f.jsx)(bn.Z,{}),size:"small"})}):null]}});for(var He=function(){var x,M,ne=Ge[Re],V=null,N=(x=e==null||(M=e.editor)===null||M===void 0?void 0:M.fields.find(function(Y,W){var c,R=(c=ne.key)!==null&&c!==void 0?c:null,P=Y.field==R;return P&&(V=Number.MAX_SAFE_INTEGER-1-W),P}))!==null&&x!==void 0?x:{};ne.fieldOrder=V,ne.fieldConfig=N},Re=0,Ge=t;Re<Ge.length;Re++)He();return t.sort(function(he,x){return x.colOrder-he.colOrder}),t}function $n(e,a,S,G,y,d,C){return Qe.apply(this,arguments)}function Qe(){return Qe=xe()(X()().mark(function e(a,S,G,y,d,C,b){var w,z,be,s,v,A,j,ie,B,pe,fe,Q,$e,r,t,k,E,Ce,ee,me,we,l,Ve,He,Re,Ge,he,x,M,ne,V,N,Y,W,c,R,P,T,J,Ee,oe,F,q,H,ue,le,m,Oe,i,de,ye,Me,ge,I,D,U,ze,Pe,De,Ue,se,_e,ke,Ae,Ke,Z,Fe,K=arguments;return X()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:pe=K.length>7&&K[7]!==void 0?K[7]:[],fe=K.length>8&&K[8]!==void 0?K[8]:{},Q=(w=y==null||(z=y.table)===null||z===void 0?void 0:z.columns)!==null&&w!==void 0?w:[],$e=(be=y==null||(s=y.table)===null||s===void 0?void 0:s.all_columns)!==null&&be!==void 0?be:!0,r=(v=y==null||(A=y.table)===null||A===void 0?void 0:A.order_by)!==null&&v!==void 0?v:{},t=(j=y==null?void 0:y.children)!==null&&j!==void 0?j:pe,k=[],E=Se()(Q),n.prev=8,E.s();case 10:if((Ce=E.n()).done){n.next=19;break}if(we=Ce.value,l=(ee=we.field)!==null&&ee!==void 0?ee:null,Ve=(me=we.relation)!==null&&me!==void 0?me:null,!L().isEmpty(l)){n.next=16;break}return n.abrupt("continue",17);case 16:L().isEmpty(Ve)?k.push(l):k.push("".concat(Ve," { ").concat(l," }"));case 17:n.next=10;break;case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(8),E.e(n.t0);case 24:return n.prev=24,E.f(),n.finish(24);case 27:He=X()().mark(function O(){var ae,te,ve,g,Te,Be,o,$,u;return X()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(Te=We()(Ge[Re],2),Be=Te[0],o=Te[1],$=Q.find(function(ce){var Ie,je,ln=(Ie=ce.field)!==null&&Ie!==void 0?Ie:null,an=(je=ce.relation)!==null&&je!==void 0?je:null;return o.name==an||o.name==ln}),!$){p.next=4;break}return p.abrupt("return",1);case 4:u=(ae=(te=(ve=o.type)===null||ve===void 0?void 0:ve._fields)!==null&&te!==void 0?te:(g=o.type)===null||g===void 0||(g=g.ofType)===null||g===void 0?void 0:g._fields)!==null&&ae!==void 0?ae:void 0,u===void 0&&k.push(o.name);case 6:case"end":return p.stop()}},O)}),Re=0,Ge=Object.entries(C);case 29:if(!(Re<Ge.length)){n.next=36;break}return n.delegateYield(He(),"t1",31);case 31:if(!n.t1){n.next=33;break}return n.abrupt("continue",33);case 33:Re++,n.next=29;break;case 36:he=Se()(t),n.prev=37,he.s();case 39:if((x=he.n()).done){n.next=78;break}P=x.value,T=(M=P.relation)!==null&&M!==void 0?M:"",J=(ne=(V=P.table)===null||V===void 0?void 0:V.columns)!==null&&ne!==void 0?ne:[],Ee=(N=(Y=P.table)===null||Y===void 0?void 0:Y.all_columns)!==null&&N!==void 0?N:!0,oe=(W=(c=C[T].type.ofType)===null||c===void 0?void 0:c.getFields().nodes.type.ofType.ofType.ofType.getFields())!==null&&W!==void 0?W:C[T].type.getFields(),F=[],q=Se()(J),n.prev=47,q.s();case 49:if((H=q.n()).done){n.next=58;break}if(m=H.value,Oe=(ue=m.field)!==null&&ue!==void 0?ue:null,i=(le=m.relation)!==null&&le!==void 0?le:null,!L().isEmpty(Oe)){n.next=55;break}return n.abrupt("continue",56);case 55:L().isEmpty(i)?F.push(Oe):F.push("".concat(i," { ").concat(Oe," }"));case 56:n.next=49;break;case 58:n.next=63;break;case 60:n.prev=60,n.t2=n.catch(47),q.e(n.t2);case 63:return n.prev=63,q.f(),n.finish(63);case 66:de=X()().mark(function O(){var ae,te,ve,g,Te,Be,o,$,u;return X()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(Te=We()(Me[ye],2),Be=Te[0],o=Te[1],$=J.find(function(ce){var Ie,je,ln=(Ie=ce.field)!==null&&Ie!==void 0?Ie:null,an=(je=ce.relation)!==null&&je!==void 0?je:null;return o.name==an||o.name==ln}),!$){p.next=4;break}return p.abrupt("return",1);case 4:u=(ae=(te=(ve=o.type)===null||ve===void 0?void 0:ve._fields)!==null&&te!==void 0?te:(g=o.type)===null||g===void 0||(g=g.ofType)===null||g===void 0?void 0:g._fields)!==null&&ae!==void 0?ae:void 0,u===void 0&&F.push(o.name);case 6:case"end":return p.stop()}},O)}),ye=0,Me=Object.entries(oe);case 68:if(!(ye<Me.length)){n.next=75;break}return n.delegateYield(de(),"t3",70);case 70:if(!n.t3){n.next=72;break}return n.abrupt("continue",72);case 72:ye++,n.next=68;break;case 75:L().isEmpty((R=C[T].type.ofType)===null||R===void 0?void 0:R.getFields())?k.push("".concat(T," { ").concat(F.join(", ")," }")):k.push("".concat(T," { nodes { ").concat(F.join(", ")," } }"));case 76:n.next=39;break;case 78:n.next=83;break;case 80:n.prev=80,n.t4=n.catch(37),he.e(n.t4);case 83:return n.prev=83,he.f(),n.finish(83);case 86:ge=[],I=0,D=k;case 88:if(!(I<D.length)){n.next=100;break}if(U=D[I],!(a[U]===void 0||a[U].length<=0)){n.next=92;break}return n.abrupt("continue",97);case 92:ze=b.type.getFields()[U],Pe=ze.type.getFields(),De=Object.values(Pe).find(function(O){return O.name=="eq"}),Ue=Object.values(Pe).find(function(O){return O.name=="contains"}),Ue!==void 0?ge.push("".concat(U,': { contains: "').concat(a[U],'" }')):((se=fe[U])===null||se===void 0?void 0:se.type)=="datetime"?ge.push("".concat(U,': { between: ["').concat(a[U][0],' 00:00:00", "').concat(a[U][1],' 23:59:59"] }')):De.type.name=="Int"||De.type.name=="Boolean"?ge.push("".concat(U,": { eq: ").concat(a[U]," }")):ge.push("".concat(U,': { eq: "').concat(a[U],'" }'));case 97:I++,n.next=88;break;case 100:_e=[],ke=X()().mark(function O(){var ae,te,ve,g;return X()().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:ae=We()(Ke[Ae],2),te=ae[0],ve=ae[1],g=Q.find(function(o){var $,u,re=($=o.field)!==null&&$!==void 0?$:null,p=(u=o.relation)!==null&&u!==void 0?u:null;return te==p||te==re}),console.log("foundInColumnConfig",g),g!=null&&g.order_by?_e.push("".concat(g==null?void 0:g.order_by,": ").concat(ve=="ascend"?"ASC":"DESC")):_e.push("".concat(te,": ").concat(ve=="ascend"?"ASC":"DESC"));case 4:case"end":return Be.stop()}},O)}),Ae=0,Ke=Object.entries(S);case 103:if(!(Ae<Ke.length)){n.next=108;break}return n.delegateYield(ke(),"t5",105);case 105:Ae++,n.next=103;break;case 108:return _e.length==0&&!L().isEmpty(r)&&_e.push("".concat(r.field,": ").concat(r.order.toUpperCase())),n.next=111,(0,Ze.request)("".concat("/api","/graphql"),{method:"POST",headers:(0,Ye.zl)(),data:{query:`
        query {
          `.concat(d,`(
            filters: { `).concat(ge.join(", "),` }
            order_by: { `).concat(_e.join(", "),` }
            pagination: { page: { limit: `).concat((ie=a==null?void 0:a.pageSize)!==null&&ie!==void 0?ie:10,", page: ").concat(((B=a==null?void 0:a.current)!==null&&B!==void 0?B:1)-1,` } }
          ) {
            nodes {
              `).concat(k.join(", "),`
            }
            pagination_info {
              current
              pages
              offset
              total
            }
          }
        }
      `),variables:{}}});case 111:return Z=n.sent,Fe={success:!0,data:Z.data[d].nodes.map(function(O){return O._uuid_v4_=(0,hn.Z)(),O}),total:Z.data[d].pagination_info.total},n.abrupt("return",Fe);case 114:case"end":return n.stop()}},e,null,[[8,21,24,27],[37,80,83,86],[47,60,63,66]])})),Qe.apply(this,arguments)}function Cn(e,a,S,G,y,d,C){var b,w,z=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],be=(b=e==null||(w=e.update)===null||w===void 0?void 0:w.enable)!==null&&b!==void 0?b:!1;if(be){var s=qe(e,a,S,y,null,C);return(0,f.jsx)(Xe.Y,{title:"Edit",open:G!==void 0,onFinish:xe()(X()().mark(function v(){var A,j,ie,B,pe,fe,Q,$e,r,t,k,E,Ce,ee,me;return X()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:j=[],ie=[],console.log("formEditRef?.current?.getFieldsValue()",d==null||(A=d.current)===null||A===void 0?void 0:A.getFieldsValue()),B=0,pe=Object.entries(d==null||(fe=d.current)===null||fe===void 0?void 0:fe.getFieldsValue());case 4:if(!(B<pe.length)){l.next=19;break}if($e=We()(pe[B],2),r=$e[0],t=$e[1],k=S[r],E=(Q=k.type)===null||Q===void 0?void 0:Q.name,E===void 0&&(E=(Ce=k.type.ofType)===null||Ce===void 0?void 0:Ce.name),z.includes(r)&&(E==="Int"||E==="Float"||E==="Boolean"?ie.push("".concat(r,": { eq: ").concat(t," }")):ie.push("".concat(r,': { eq: "').concat(t,'" }'))),G[r]!==t){l.next=12;break}return l.abrupt("continue",16);case 12:if(!(t!==!0&&t!==!1&&L().isEmpty(t.toString()))){l.next=15;break}return j.push("".concat(r,": null")),l.abrupt("continue",16);case 15:E=="Boolean"?j.push("".concat(r,": ").concat(JSON.stringify(t))):E=="Int"||E=="Float"?j.push("".concat(r,": ").concat(t)):t&&(r=="created_at"||r=="updated_at"||r=="created_date")?j.push("".concat(r,": ").concat(JSON.stringify(t.split(".")[0])," ")):j.push("".concat(r,": ").concat(JSON.stringify(t)));case 16:B++,l.next=4;break;case 19:return l.next=21,(0,Ze.request)("".concat("/api","/graphql"),{method:"POST",headers:(0,Ye.zl)(),data:{query:`
              mutation {
                `.concat(a,`_update(
                  data: {
                    `).concat(j.join(", "),`
                  }
                  filter: {
                    `).concat(ie.join(`
`),`
                  }
                ) {
                  `).concat(z.join(", "),`
                }
              }
            `),variable:{}}});case 21:if(ee=l.sent,!L().isEmpty(ee==null?void 0:ee.errors)){l.next=27;break}return(me=C.current)===null||me===void 0||me.reload(),l.abrupt("return",!0);case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},v)})),onOpenChange:function(A){if(A){var j;d==null||(j=d.current)===null||j===void 0||j.setFieldsValue(G)}else y(void 0)},formRef:d,children:(0,f.jsx)(un.A.Group,{children:s.filter(function(v){return!v.hideInUpdate}).map(function(v){return L().isEmpty(v.options)?(0,f.jsx)(dn.Z,{width:"md",disabled:z.includes(v.dataIndex),name:v.dataIndex,label:v.title,placeholder:""},v.dataIndex):(0,f.jsx)(sn.Z,{width:"md",disabled:z.includes(v.dataIndex),name:v.dataIndex,label:v.title,options:v.options},v.dataIndex)})})})}}function En(e,a,S,G,y,d,C){var b,w,z=(b=e==null||(w=e.create)===null||w===void 0?void 0:w.enable)!==null&&b!==void 0?b:!1;if(z){var be=qe(e,a,S,null,null,C);return(0,f.jsx)(Xe.Y,{title:"New",open:G,onFinish:xe()(X()().mark(function s(){var v,A,j,ie,B,pe,fe,Q,$e,r,t,k,E,Ce,ee,me;return X()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return A=[],l.next=3,en(a);case 3:j=l.sent,ie=(v=j.primary_key)!==null&&v!==void 0?v:[],B=0,pe=Object.entries(d==null||(fe=d.current)===null||fe===void 0?void 0:fe.getFieldsValue());case 6:if(!(B<pe.length)){l.next=18;break}if($e=We()(pe[B],2),r=$e[0],t=$e[1],k=S[r],E=(Q=k.type)===null||Q===void 0?void 0:Q.name,E===void 0&&(E=(Ce=k.type.ofType)===null||Ce===void 0?void 0:Ce.name),!(t!==!0&&t!==!1&&L().isEmpty(t.toString()))){l.next=14;break}return A.push("".concat(r,": null")),l.abrupt("continue",15);case 14:E=="Boolean"||E=="Int"||E=="Float"?A.push("".concat(r,": ").concat(t)):t&&(r=="created_at"||r=="updated_at"||r=="created_date")?A.push("".concat(r,": ").concat(JSON.stringify(t.split(".")[0]))):A.push("".concat(r,": ").concat(JSON.stringify(t)));case 15:B++,l.next=6;break;case 18:return l.next=20,(0,Ze.request)("".concat("/api","/graphql"),{method:"POST",headers:(0,Ye.zl)(),data:{query:`
              mutation {
                `.concat(a,`_create_one(
                  data: {
                    `).concat(A.join(", "),`
                  }
                ) {
                  `).concat(ie.join(", "),`
                }
              }
            `),variable:{}}});case 20:if(ee=l.sent,!L().isEmpty(ee==null?void 0:ee.errors)){l.next=26;break}return(me=C.current)===null||me===void 0||me.reload(),l.abrupt("return",!0);case 26:return l.abrupt("return",!1);case 27:case"end":return l.stop()}},s)})),onOpenChange:y,formRef:d,children:(0,f.jsx)(un.A.Group,{children:be.filter(function(s){return!s.hideInCreate}).map(function(s){return L().isEmpty(s.options)?(0,f.jsx)(dn.Z,{width:"md",name:s.dataIndex,label:s.title,placeholder:""},s.dataIndex):(0,f.jsx)(sn.Z,{width:"md",name:s.dataIndex,label:s.title,options:s.options},s.dataIndex)})})})}}function gn(e,a,S,G,y,d){var C=qe(e,a,S,null,null,d);return(0,f.jsx)(Xe.Y,{title:"View",open:G!==void 0,onOpenChange:function(w){w||y(void 0)},formRef:d,modalProps:{footer:null},submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{style:{display:"none"}}},children:(0,f.jsx)(tn.Z,{column:{xxl:2,xl:2,lg:2,md:2,sm:2,xs:1},size:"small",bordered:!0,children:C.filter(function(b){return!b.hideInModalView&&!b.hideInTable}).map(function(b){return G?(0,f.jsx)(tn.Z.Item,{label:b.title,children:b.render(_,G,_,_)}):null})})})}function Tn(e,a){return _jsx(Modal,{open:e,onCancel:function(){return a(!1)},footer:null,children:_jsxs("h2",{style:{textAlign:"center",margin:64},children:[_jsx(CloseCircleTwoTone,{twoToneColor:"#FF0000",style:{fontSize:32}}),_jsx("br",{}),"Pro License Required"]})})}function en(e){return nn.apply(this,arguments)}function nn(){return nn=xe()(X()().mark(function e(a){var S,G,y,d,C,b,w,z;return X()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,Ze.request)("".concat("/api","/graphql"),{method:"POST",headers:(0,Ye.zl)(),data:{query:`
        query {
          _sea_orm_entity_metadata(table_name: "`.concat(a,`") {
            columns {
              name
              nullable
              type_ {
                primitive
                array {
                  array {
                    primitive
                  }
                }
                enumeration {
                  name
                  variants
                }
              }
            }
            primary_key
          }
        }
      `),variable:{}}});case 2:d=s.sent,C=(S=d==null||(G=d.data)===null||G===void 0?void 0:G._sea_orm_entity_metadata)!==null&&S!==void 0?S:{},C.cols={},b=Se()((y=C==null?void 0:C.columns)!==null&&y!==void 0?y:[]);try{for(b.s();!(w=b.n()).done;)z=w.value,C.cols[z.name]=z}catch(v){b.e(v)}finally{b.f()}return s.abrupt("return",C);case 8:case"end":return s.stop()}},e)})),nn.apply(this,arguments)}}}]);
