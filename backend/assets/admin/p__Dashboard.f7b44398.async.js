"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[906],{51386:function(fe,B,a){a.r(B);var $=a(97857),I=a.n($),G=a(15009),g=a.n(G),V=a(99289),j=a.n(V),J=a(5574),D=a.n(J),N=a(90930),P=a(76772),K=a(9361),S=a(4393),Q=a(45433),X=a(78957),w=a(71230),k=a(15746),E=a(67294),z=a(2618),q=a(27484),r=a.n(q),ee=a(80652),te=a(63430),e=a(85893),ae=function(t){var _=t.index,m=t.title,o=t.href,l=t.desc,u=K.Z.useToken,c=u(),d=c.token;return(0,e.jsxs)("div",{style:{backgroundColor:d.colorBgContainer,boxShadow:d.boxShadow,borderRadius:"8px",fontSize:"14px",color:d.colorTextSecondary,lineHeight:"22px",padding:"16px 19px",minWidth:"220px",flex:1},children:[(0,e.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[(0,e.jsx)("div",{style:{width:48,height:48,lineHeight:"22px",backgroundSize:"100%",textAlign:"center",padding:"8px 16px 16px 12px",color:"#FFF",fontWeight:"bold",backgroundImage:"url('https://gw.alipayobjects.com/zos/bmw-prod/daaf8d50-8e6d-4251-905d-676a24ddfa12.svg')"},children:_}),(0,e.jsx)("div",{style:{fontSize:"16px",color:d.colorText,paddingBottom:8},children:m})]}),(0,e.jsx)("div",{style:{fontSize:"14px",color:d.colorTextSecondary,textAlign:"justify",lineHeight:"22px",marginBottom:8},children:l}),(0,e.jsxs)("a",{href:o,target:"_blank",rel:"noreferrer",children:["Learn More ",">"]})]})},ie=[{label:"Last 7 Days",value:[r()().add(-7,"days"),r()()]},{label:"Last 14 Days",value:[r()().add(-14,"days"),r()()]},{label:"Last 30 Days",value:[r()().add(-30,"days"),r()()]},{label:"Last 90 Days",value:[r()().add(-90,"days"),r()()]}],ne=function(t){var _,m=t.graph,o=t.title,l=t.timescale,u=t.fromDate,c=t.toDate,d=t.xAxisTitle,i=t.yAxisTitle,s=t.defaultDateRange,p=(0,P.useModel)("@@initialState"),v=p.initialState,T=(0,E.useState)([]),n=D()(T,2),x=n[0],O=n[1],F=(0,E.useState)(r()(u)),h=D()(F,2),Z=h[0],re=h[1],_e=(0,E.useState)(r()(c)),H=D()(_e,2),Y=H[0],oe=H[1];(0,E.useEffect)(function(){var L=function(){var y=j()(g()().mark(function M(){return g()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,P.request)("".concat("/api","/admin/dashboard"),{method:"POST",headers:(0,z.zl)(),data:{graph:m,from:Z.startOf(l).format("YYYY-MM-DDTHH:mm:ss"),to:Y.endOf(l).format("YYYY-MM-DDTHH:mm:ss")}});case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},M)}));return function(){return y.apply(this,arguments)}}();L().then(function(y){O(y)})},[Z,Y]);var de={data:x,theme:(v==null||(_=v.settings)===null||_===void 0?void 0:_.navTheme)==="realDark"?"classicDark":"classic",height:130,xField:"key",yField:"val",point:{shapeField:"square",sizeField:4},interaction:{tooltip:{marker:!1}},style:{lineWidth:2},axis:{x:{title:d!=null?d:null,labelAutoRotate:!1},y:{title:i!=null?i:null}},tooltip:{title:"key",items:[{name:i!=null?i:null,channel:"y"}]}},A=r()(),C=r()();if(s&&s.startsWith("last ")){var ue=s.split(" "),U=D()(ue,3),ge=U[0],me=U[1],ve=U[2];A=r()().subtract(me,ve)}else if(s&&s.startsWith("next ")){var ce=s.split(" "),W=D()(ce,3),De=W[0],he=W[1],pe=W[2];C=r()().add(he,pe)}return u&&(A=r()(u)),c&&(C=r()(c)),(0,e.jsxs)(S.Z,{title:o,children:[(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsx)(Q.default.RangePicker,{picker:l=="day"?"date":l,presets:l=="day"?ie:null,defaultValue:[A,C],onChange:function(){var L=j()(g()().mark(function y(M,xe){return g()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:re(M[0]),oe(M[1]);case 2:case"end":return R.stop()}},y)}));return function(y,M){return L.apply(this,arguments)}}()})}),(0,e.jsx)(ee.Z,I()({},de))]})},le=function(t){var _,m=t.graph,o=t.title,l=t.xAxisTitle,u=t.yAxisTitle,c=(0,P.useModel)("@@initialState"),d=c.initialState,i=(0,E.useState)([]),s=D()(i,2),p=s[0],v=s[1];(0,E.useEffect)(function(){var n=function(){var x=j()(g()().mark(function O(){return g()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,P.request)("".concat("/api","/admin/dashboard"),{method:"POST",headers:(0,z.zl)(),data:{graph:m}});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},O)}));return function(){return x.apply(this,arguments)}}();n().then(function(x){v(x)})},[]);var T={data:p,theme:(d==null||(_=d.settings)===null||_===void 0?void 0:_.navTheme)==="realDark"?"classicDark":"classic",colorField:"key",angleField:"val",radius:.8,label:{text:function(x){return"".concat(x.key,`
 `).concat(x.val)},position:"spider",transform:[{type:"overlapHide"}]},axis:{x:{title:l!=null?l:null,labelAutoRotate:!1},y:{title:u!=null?u:null}},tooltip:{title:"key",items:[{name:u!=null?u:null,field:"val"}]},legend:{color:{title:!1,position:"right",rowPadding:5}}};return(0,e.jsx)(S.Z,{title:o,children:(0,e.jsx)(te.Z,I()({},T))})},se=function(){var t,_,m,o,l,u=K.Z.useToken(),c=u.token,d=(0,P.useModel)("@@initialState"),i=d.initialState;return(0,e.jsx)(N._z,{header:{title:null},children:(0,e.jsxs)(X.Z,{direction:"vertical",size:16,style:{width:"100%"},children:[(0,e.jsx)(S.Z,{style:{borderRadius:8},children:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{fontSize:"20px",color:c.colorTextHeading},children:i==null||(t=i.settings)===null||t===void 0||(t=t.dashboard)===null||t===void 0?void 0:t.title}),i!=null&&(_=i.settings)!==null&&_!==void 0&&(_=_.dashboard)!==null&&_!==void 0&&_.subtitle?(0,e.jsx)("p",{style:{fontSize:"14px",color:c.colorTextSecondary,lineHeight:"22px",marginTop:16,marginBottom:32,width:"65%"},children:i==null||(m=i.settings)===null||m===void 0||(m=m.dashboard)===null||m===void 0?void 0:m.subtitle}):(0,e.jsx)("p",{}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:i==null||(o=i.settings)===null||o===void 0||(o=o.dashboard)===null||o===void 0||(o=o.info)===null||o===void 0?void 0:o.card.map(function(s,p){return(0,e.jsx)(ae,{index:p+1,href:s.link,title:s.title,desc:s.description},p)})})]})}),i==null||(l=i.settings)===null||l===void 0||(l=l.dashboard)===null||l===void 0?void 0:l.row.map(function(s,p){return(0,e.jsx)(w.Z,{gutter:[s.gutter,s.gutter],children:s.col.map(function(v,T){var n=v.chart;if(n){if(n.kind==="line")return(0,e.jsx)(k.Z,{span:v.span,children:(0,e.jsx)(ne,{graph:n.chart,title:v.title,timescale:n.timescale,fromDate:n.from_date,toDate:n.to_date,xAxisTitle:n.x_axis_title,yAxisTitle:n.y_axis_title,defaultDateRange:n.default_date_range})},T);if(n.kind==="pie")return(0,e.jsx)(k.Z,{span:v.span,children:(0,e.jsx)(le,{graph:n.chart,title:v.title,xAxisTitle:n.x_axis_title,yAxisTitle:n.y_axis_title})},T)}})},p)})]})})};B.default=se}}]);
